<!DOCTYPE html>
<html>
  <head>
    <title>Execute JavaScript in Docker</title>
  </head>
  <body>
    <h1>Execute JavaScript in Docker</h1>
    <form onsubmit="return executeCode()">
      <label>
        JavaScript Code:
        <textarea id="code" name="code" rows="10" cols="50"></textarea>
      </label>
      <button type="submit">Execute</button>
    </form>
    <div id="result"></div>
    <script>
      function executeCode() {
        const code = document.getElementById('code').value;

        fetch('/execute', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ code }),
        })
          .then(response => response.json())
          .then(data => {
            const resultEl = document.getElementById('result');
            resultEl.textContent = JSON.stringify(data.result);
          })
          .catch(error => {
            console.error(error);
            const resultEl = document.getElementById('result');
            resultEl.textContent = `Error: ${error.message}`;
          });

        return false;
      }
    </script>
  </body>
</html>
